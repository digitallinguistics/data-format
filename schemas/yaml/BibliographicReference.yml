$schema: 'http://json-schema.org/schema#'
id:      'http://cdn.digitallinguistics.io/schemas/BibliographicReference-4.1.0.json'
title:   'Bibliographic Reference'
type:    object

description: 'A bibliographic Reference'

required:
  - title

additionalProperties: true

definitions:

  person:
    title: Person
    type:  object
    description: 'An object representing a Person'
    additionalProperties: false
    properties:
      firstName:
        title: 'First Name'
        type:  string
        description: 'The first name(s) of this author'
      lastName:
        title: 'Last Name'
        type:  string
        description: 'The last name(s) of this author'

properties:

  id:
    title: ID
    description: A unique database identifier for this Reference

  type:
    title: Type
    type:  string
    description: 'The type of object. Must be set to `BibliographicReference`.'
    enum:
      - BibliographicReference

  authors:
    title:       Authors
    type:        array
    uniqueItems: true
    description: 'An array of authors for this Reference'
    items:
      title: Author
      type:  object
      $ref: '#/definitions/person'
      description: 'A Person object representing an author'

  city:
    title: City
    type:  string
    description: 'The city in which this reference was published'

  doi:
    title:   'Digital Object Identifier (DOI)'
    type:    string
    pattern: '^10.\d{4,9}/[-._;()/:A-Za-z0-9]+$'
    description: 'The Digtial Object Identifier (DOI) for this publication. This should be just the DOI itself, not a URL, and should not include the `doi:` prefix (e.g. `10.1075/cal.20.02hie` not `https://doi.org/10.1075/cal.20.02hie` or `doi:10.1075/cal.20.02hie`).'

  edition:
    title:   Edition
    type:    integer
    minimum: 1
    description: 'The edition of this Reference, formatted as an integer'

  editors:
    title:       Editors
    type:        array
    uniqueItems: true
    description: 'An array of editors for this Reference'
    items:
      title: Editor
      type:  object
      $ref: '#/definitions/person'
      description: 'A Person object representing an editor'

  issue:
    title: Issue
    type:  string
    description: 'The publication issue'

  pages:
    title: Pages
    type:  string
    description: 'The page numbers of this Reference'

  publication:
    title: Publication
    type:  string
    description: 'The publication where this item was published'

  publicationType:
    title: 'Publication Type'
    type:  string
    description: 'The type of publication'
    enum:
      - 'journal article'
      - 'book'
      - 'generic'
      - 'book section'
      - 'conference proceedings'
      - 'working paper'
      - 'report'
      - 'web page'
      - 'thesis'
      - 'magazine article'
      - 'newspaper article'
      - 'television broadcast'
      - 'encyclopedia article'
      - 'film'

  publisher:
    title: 'Publisher (or Institution)'
    type:  string
    description: 'The name of the publisher of this reference, or the institution where it was published'

  series:
    title: Series
    type:  string
    description: 'The series in which this publication was published'

  title:
    title:     Title
    type:      string
    minLength: 1
    description: 'The title of this publication'

  translators:
    title:       Translators
    type:        array
    uniqueItems: true
    description: 'An array of translators for this Reference'
    items:
      title: Translator (Person)
      type:  object
      $ref: '#/definitions/person'
      description: 'A Person object representing a translator'

  url:
    title:  URL
    type:   string
    format: uri
    description: 'A URL for this Reference'

  volume:
    title:       Volume
    type:        integer
    minimum:     1
    description: 'The volume number for this publication'

  year:
    title: Year
    type:  integer
    description: 'The year this item was published. Use a positive integer for AD / ACE, and a negative integer for BC / BCE.'
